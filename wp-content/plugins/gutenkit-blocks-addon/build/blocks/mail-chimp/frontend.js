(()=>{"use strict";var e={n:r=>{var s=r&&r.__esModule?()=>r.default:()=>r;return e.d(s,{a:s}),s},d:(r,s)=>{for(var t in s)e.o(s,t)&&!e.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:s[t]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const r=window.wp.domReady;e.n(r)()((()=>{document.querySelectorAll(".gkit-mailchimp-form").forEach((e=>{(e=>{const r=e.querySelector(".gkit-mailchimp-response");e.addEventListener("submit",(s=>{s.preventDefault(),r.classList.remove("success"),r.classList.remove("error"),r.innerHTML="";let t=e.getAttribute("data-double-optin-message"),a=e.getAttribute("data-success-message");const i=new FormData(e),o={list_id:e.getAttribute("data-listed-id")};i.forEach(((e,r)=>{o[r]=e})),fetch(e.action,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((s=>{if(Object.keys(s?.error).length>0){let e=s?.error,t="";if("Member Exists"==e.title){const e=/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}) is already a list member./,r=s?.error?.detail.match(e);r&&(t=r[0])}else"Invalid Resource"==e?.title&&Array.isArray(e?.errors)&&(t=e.errors.map((e=>`${e?.field}: ${e?.message}`)).join(" "));r.innerHTML=t||"There was an error. Please try again.",r.classList.add("error"),r.classList.remove("success")}else"subscribed"===s.status?(e.reset(),r.innerHTML=a||"You have successfully subscribed to our mailing list.",r.classList.add("success"),r.classList.remove("error")):"pending"===s.status&&(e.reset(),r.innerHTML=t||"Please check your email to confirm your subscription.",r.classList.add("success"),r.classList.remove("error"))})).catch((r=>{const s=e.querySelector(".gkit-mailchimp-response");s.innerHTML="There was an error. Please try again.",s.classList.add("error"),s.classList.remove("success"),console.error("Fetch error:",r)}))})),e.querySelectorAll(".gkit-mailchimp-form__input").forEach((e=>{e.addEventListener("change",(()=>{const r=e.closest(".gkit-mailchimp-form__input-wrap");e.value.trim()?r.classList.add("filled"):r.classList.remove("filled")}))}))})(e)}))}))})();